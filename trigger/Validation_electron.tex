\subsection{Validation of the Electron Trigger}
\label{electron_trigger_validation}

As a reminder, the electron trigger logic uses responses from the PCAL, EC, HTCC, and DC (see
Eq.~\ref{eq:em_trg_formula}), and as was described in Section \ref{sec:validation_random}, for trigger
validation we have used Random Trigger data. The first step in the validation of an electron trigger is a
selection of  events with a ``clean electron''. The CLAS12 offline reconstruction software assigns a particle
identification (PID) to each reconstructed particle~\cite{offline-ref} (for electrons PID=11), however in these
studies, we imposed additional cuts. In particular 
\begin{itemize}
\item DC roads are optimized for tracks originating from the target, which is why in the offline analysis we
  put a cut on the vertex $z$ coordinate to make sure the track originates from the target;
\item Selected events where the electron hits the calorimeters in the fiducial region, to make sure the shower
  energy is fully reconstructed;
\item Applied trigger condition cuts on the offline cluster energies in the PCAL and EC, and also on number of
  photoelectrons in the HTCC.
\end{itemize}
After applying the above-mentioned cuts for each of these electrons, we checked whether the electron trigger
bit was set for the corresponding sector. At the end, the trigger efficiency is defined as the number of
``Bit  Set'' events over the number of all events with a ``clean'' electron. The CLAS12 experiments required
a trigger efficiency close to 100\% for electrons above 2~GeV. Since both the PCAL and EC are sampling
calorimeters, 2~GeV electrons will deposit only part (in average about 25\% in our case) of their total energy.
Because of shower and light fluctuations, some 2~GeV electrons will have less than 25\% of their energy
reconstructed in the calorimeters. Based on this, we required the energy threshold in the trigger to be more
than 300~MeV, which guarantees that more than 99\% of 2~GeV electrons will deposit energy above the
threshold.

\begin{figure}[!htb]
 \centering
 \subfloat[]{\label{fig:em_eff_Allcomponents}\grinp[width=0.25\tw]{img/All_components_65416544.pdf}}
 \subfloat[]{\label{fig:em_nphe_Miss}\grinp[width=0.25\tw]{img/nphe_missed1_65416544.pdf}}
 \caption{(a) Momentum distribution of ``good electrons''. The brown distribution represents all
   ``good electrons'', the blue histogram represents all events where the electron trigger bit was not set, the
   black histogram represents events, that do not have a EC$\times$PCAL trigger bit, and the red histogram
   represents events that missed the electron trigger bit. (b) Distribution of the number of photoelectrons for
   events where the electron has more than 2~GeV energy and missed the HTCC trigger bit.}
 \label{fig:em_missed_events}
\end{figure}

Figure~\ref{fig:em_eff_Allcomponents} shows the momentum distributions of all ``good'' electrons (in brown),
electrons when the electron trigger bit was not set  (in blue), when the EC$\times$PCAL bit was not set (in black),
and events when the HTCC bit was not set (in red). Above 2~GeV most events have only the HTCC bit missing.
Figure~\ref{fig:em_nphe_Miss} shows the distribution of the number of photoelectrons for the events that
have no HTCC trigger bit. About 90\% of these events are at the threshold region (a 2 photoelectron threshold
was employed). The Trigger System has a different precision of gains and pedestals values from the offline
reconstruction. In particular, in the trigger the pedestal value is constant for all events in the run, but in the
offline reconstruction the pedestal is calculated event by event using samples of the FADC readout data before
the signal region. This will create  such threshold related effects. The final trigger efficiency is shown in
Fig.~\ref{fig:em_eff}, which shows that  the trigger efficiency is above 99.5\% for electrons with momentum
above 2~GeV.

\begin{figure}[!htb]
 \centering
 \grinp[width=0.45\tw]{img/em_Efficiency_65416544.pdf}
 \caption{Trigger efficiency as a function of the electron momentum. The efficiency is above 99\% for the
   entire momentum range.}
 \label{fig:em_eff}
\end{figure}


