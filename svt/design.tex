\section{Design}

\subsection{Barrel Layout and Support Structure}

The SVT comprises 21504 channels of wire-bonded triplets of p-on-n AC-coupled single-sided silicon micro-strip sensors in six layers. The SVT barrel is formed by three concentric polygonal regions of double-sided SVT modules, positioned at radii of 65, 93, and 120 mm (see Fig.~\ref{fig:barrel-faradaycage}). The innermost Region 1 contains 10 modules, encircled by Region 2 with 14 modules, and Region 3 with 18 modules. The SVT is enclosed by a Faraday cage with an inner radius of 57 mm (with 6 mm clearance to the inner shell of the target scattering chamber) and an outer radius of 133 mm. To minimize multiple scattering, a unique module design with extra long 33~cm strips has been developed to reduce the material budget to about 1.4$\%$ of a radiation length per region (two silicon planes) for normal incidence tracks, which is essential for tracking at low momenta~\cite{Vertex2016}. No module services such as cooling lines, power, readout, and slow control cables were placed in the tracking volume. The module dimensions are 41.9 cm $\times$ 4.2 cm $\times$ 0.39 cm. All of the SVT modules are identical to minimize production costs. There are no overlaps of adjacent modules and minimal clearance between them to satisfy material budget and acceptance constraints.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{barrel-faradaycage.jpg}
\caption{Layout of the barrel and the Faraday Cage. Copper supports are bolted directly to the cold plate.}
\label{fig:barrel-faradaycage}
\end{figure}

The modules  are mounted between upstream and downstream rings. For each region the upstream ring is attached to the cold plate with screws. The upstream support ring provides a mounting surface for the modules on the upstream end of the detector. It also provides a conduction path for heat to be transferred from the modules to the coolant flowing through the cold plate. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{upstreamring.png}
\caption{Upstream support ring attached to the cold plate. Region 1 and Region 2 heat sinks are mounted.}
\label{fig:upstreamring}
\end{figure}

 The SVT modules are cantilevered off a chilled cold plate, designed to provide mechanical support and to remove heat generated by the electronics, located at the upstream end of the module outside of the tracking volume (see Fig.~\ref{fig:upstreamring}). The cold plate and upstream ring are bolted to the mounting tube that is attached to the insertion cart with the support tube. 
 
The mounting surfaces of the upstream and downstream rings are machined closely coupled in a single step to guarantee planarity. The modules in the vertical and near vertical positions provide stiffness to the downstream ring and to a region as a whole. The regions are shifted along the beam axis to match the required angular coverage. The downstream support rings are made from PolyEther Ether Ketone (PEEK)~\cite{NIMVCC}. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{module.jpg}
\caption{Layout of an SVT module with the main elements labeled.}
\label{fig:module}
\end{figure}

\subsection{Module Design}

The SVT uses single-sided 320-$\mu$m thick microstrip sensors fabricated by Hamamatsu Photonics, mounted on each side of the module (see Fig.~\ref{fig:module}). All modules have 3 types of sensors: H (Hybrid), I (Intermediate), and F (Far). The sensors were cut from 6 inch wafers with high resistivity of 5 $\kiloohm cm$ to ensure low full depletion voltage and 2 sensors per wafer to maximize the yield. Surface damage is minimized by using silicon with a <100> surface orientation. All sensors have the same size, 112 mm $\times$ 42 mm. There are three daisy-chained sensors per layer (six per module) with a 110~$\mu$m gap between them. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{strip-layout.jpg}
\caption{Sensor strip layout. The hybrid sensor is on the left side. Strip numbers are indicated. Dimensions are in mm.}
\label{fig:strip-layout}
\end{figure}

Each layer has 256 strips with linearly varying angles of 0$^\circ$--3$^\circ$ (constant $\phi$ pitch of 1/85$^\circ$) to minimize the dead sensor area. The first readout strip is parallel to the longitudinal axis of the module; the last readout strip has an angle of 3$^\circ$ with respect to this axis (see Fig.~\ref{fig:strip-layout}). Because of the constant $\phi$ pitch, the lengths of the readout strips of the modules vary from 0.5 cm to 33 cm. At the hybrid side, the intermediate strip pitch is 78 $\mu$m and the readout pitch is 156 $\mu$m. It was shown~\cite{BRAIBANTNOTE} that radiation effects increase the inter-strip capacitance and decrease the backplane capacitance. The strip-to-pitch ratio of 0.256 has been chosen for all three types of sensors, for which the two effects compensate, and the total strip capacitance remains constant with the accumulated dose. Figure~\ref{fig:sensor} shows the cross-sectional view of the sensor. The aluminum strip width is 26 $\mu$m and is AC-coupled via the SiO$_2$ layer to the 20-$\mu$m wide $p$+ implant strips, which are 1.2 $\mu$m below the aluminum strips. The total strip capacitance at 1 MHz is below 1.3 pf/cm and the coupling capacitance above 10 pF/cm. The electrical specifications of the sensors are shown in Table~\ref{tab:sensor-table}~\cite{SENSORNOTE}. The implant strips are grounded via 1.5~$\megaohm$ polysilicon resistors. The unpassivated aluminum backplane (ohmic contact) is connected to the positive side of the power supply; the $n$-bulk volume of the sensor is depleted via the highly doped $n$++ layer. The guard ring is surrounds the sensitive area to reduce the surface currents from the edges of the detector. The 42-mm width of the sensor accommodates 256 readout strips and the 1 mm keep-out zones along the edge of the sensor.

\begin{table}[h]
\begin{tabular}{ll}
\hline
Full depletion voltage      & 40 -- 100 V \\ 
Interstrip capacitance      & $<$1.2 pf/cm                       \\
Leakage current (at depletion V)        & $<$10 nA/cm$^2$                       \\
Strip to backplane capacitance        & $<$0.2 pF/cm                       \\
Interstrip isolation (at 150 V)           & $>$1 G$\Omega$                       \\ 
Resistance of aluminum strips        & $<$20 $\Omega$/cm                       \\
Coupling capacitance        & $>$20 pF/cm                       \\
Value of polysilicon bias resistor   & 1.5 $\pm$ 0.5 M$\Omega$     \\
Single strip DC current & $<$2 nA\\ \hline
\end{tabular}
\caption{Electrical specifications of the sensors.}
\label{tab:sensor-table}
\end{table}

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{sensor.jpg}
\caption{Cross-sectional view of a sensor showing the different layers and the spacing of the strips (the dimension units are in $\mu$m).}
\label{fig:sensor}
\end{figure}

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{backing-structure.png}
\caption{The module backing structure with the main elements labeled.}
\label{fig:backing-structure}
\end{figure}

The sensors are mounted on a backing structure designed to provide rigid and lightweight support to the sensors. The backing structure is composed of Rohacell 71 core, 78-$\mu$m thick bus cable, and carbon fiber (see Fig.~\ref{fig:backing-structure}). The carbon fiber skin is made from Mitsubishi type K13C2U fibers oriented in a quasi-isotropic (45/-45/0) pattern. To ensure adequate electrical conductivity, it is co-cured with the bus cable, made from a Kapton sheet with 3-$\mu$m thick and 0.5-mm wide copper traces; one side provides high voltage (HV) to the sensors, a 6 mm $\times$ 6~mm copper mesh on the other side grounds the carbon fiber.  The Rohacell core under the hybrid board is replaced by a copper heat sink to remove $\sim$2~W of heat generated by the ASIC preamplifier chips. At the downstream end of the module, the Rohacell core is replaced by a PEEK insert. The cross-section of the active area of the module is shown in Fig.~\ref{fig:svt-module-layers}. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{svt-module-layers.png}
\caption{The cross-section of the module. The dimensions are in mm.}
\label{fig:svt-module-layers}
\end{figure}

\begin{figure}[hbt] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{pitch-adapter.jpg}
\caption{One end of the pitch adapter mask, showing the alignment fiducials, wire bonding pads, and traces.}
\label{fig:pitch-adapter}
\end{figure}

A pitch adapter matches the 156~$\mu$m sensor readout pitch to the 50~$\mu$m FSSR2 bonding pad pitch. The pitch adapter~\cite{PA} is a glass plate 41.5 mm $\times$ 4 mm (tolerance of 50~$\mu$m), with metal traces made of aluminum and copper alloy. The alloy improves electromigration hardness and bonding. The metal layer is sputter deposited. The passivation silicon oxide layer protects the soft aluminum traces from damage. There are two fiducials on the pitch adapter edge next to the sensor and three on the edge next to the hybrid to facilitate alignment. No more than one open trace or two short-circuited traces are allowed per pitch adapter. A section of the pitch adapter is shown in Fig.~\ref{fig:pitch-adapter}. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth]{hfcb.jpg}
\caption{Hybrid Flex Circuit Board (HFCB). The level one connect board (left side) is connected to the hybrid area (right side).}
\label{fig:HFCB}
\end{figure}

Both sides of a module are instrumented with a readout system by a single rigid-flex Hybrid Flex Circuit Board (HFCB) located on the upstream end of the module (see Fig.~\ref{fig:HFCB}). The HFCB is a single circuit providing all module services and the components to control and read out the signals from the module. The SVT module is attached to the cold plate and all module service cables are passed through its slots. The design of the HFCB rigid and flex parts accommodates the geometrical constraints imposed by the barrel layout. The HFCB provides bias to the silicon sensors, and power and control lines to four FSSR2 ASICs located at the edge of the hybrid, two on the top and two on the bottom side. The ASICs are glued to pads on their substrates with conductive epoxy. These pads are the reference for the analog return for the chips. The hybrid area of each HFCB (42 mm $\times$ 82 mm) consists of two rigid boards (top and bottom hybrids) connected by a 10-mm long wing flex High Density Interconnect (HDI) cable wrapped around the backing structure (see Fig.~\ref{fig:hfcb-wrap}). The transition line from the rigid board to the flex cable was strengthened. Both hybrids connect to the module electrically using micro-bonding technology for the signals and bias return, and solder connections for the detector bias and module support ground. The sensors, the pitch adapters, and the HFCB are glued to both sides of the backing structure. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{hfcb-wrap.jpg}
\caption{The wrapping of the HFCB from the top to the bottom silicon layers.}
\label{fig:hfcb-wrap}
\end{figure}

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{l1c.jpg}
\caption{HFCB level one connect board with the main elements labeled.}
\label{fig:l1c}
\end{figure}

Module services are provided via the level one connect (L1C) board (125 mm $\times$ 41 mm) coupled to the hybrid area via the upstream flex HDI cable (245 mm). The upstream flex HDI cable is routed through 10~mm radial slots in the cold plate. The L1C board hosts two high density Nanonics connectors for data and control lines, a Molex Micro-Fit 9-pin connector for high voltage ($\sim$85~V) bias to the sensors, an AMP Mini CT 17 pin connector for low voltage (2.5~V) power to the ASICs, a hybrid temperature connector, an external pulser connector, and four voltage regulators (see Fig.~\ref{fig:l1c}). The L1C board is mounted to the support tube on its own support structure designed to keep each L1C board positioned in line with its module.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{hfcb-stack.jpg}
\caption{HFCB 12-layer stack-up.}
\label{fig:hfcb-stack}
\end{figure}

The HFCB layer stack up (see Fig.~\ref{fig:hfcb-stack}) consists of six layers of flexible polyimide sandwiched between two triple layers of rigid FR4 (Flame Retardant glass-reinforced epoxy laminate material). The stack up varies from section to section, the flexible sections (wing and upstream flex) only contain the polyimide, whereas the rigid areas contain all 12 layers. This variation in stack up provides the ability to instrument both the top and bottom sides of each module and to pass though the cold plate to the L1C board mounted on the support structure. The two outer layers of the flex stack are the top and bottom shields, which are solid copper pours used to improve signal integrity by providing shielding and references for the differential signals. The top and bottom layers are made from 1 oz copper, while all the inner layers are made from 0.5 oz copper. The thickness of the rigid boards is 1.42 mm and the thickness of the flex cable is 0.5 mm.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{hfcb-hybrid.jpg}
\caption{Hybrid side of the HFCB with the main elements labeled.}
\label{fig:hfcb-hybrid}
\end{figure}

The design of the HFCB reflects recommendations given by the experts in low noise  electronics during the SVT technical reviews. Separate planes are provided for analog (VDDA) and digital (VDDD) power on each side of the hybrid. To reduce noise on these planes, all chip voltage lines are decoupled from the low voltage (LV) return with capacitors near the chips. High voltage filter circuits and the bridging of the high and low voltage return lines are located close to the ASICs (see Fig.~\ref{fig:hfcb-hybrid}). Decoupling capacitors for power transmission are placed at the transitions between the flex and rigid materials. All data, clock, status, and register traces (Int0 and Int1) are routed with no crossing of the splits in the reference planes. All clock traces are separated from other differential signals by guard traces that are stitched to the ground planes with vias. The trace width of the guard is 10 mils. No clock signals are routed under the chips to minimize cross talk. All power lines are  decoupled from the ground (GND) using 2.2 or 4.7~$\mu$F capacitors close to a transition in the printed circuit board (PCB) material (flex to rigid). Sensor bias lines are separated from the data lines by the guard traces. The clocks are terminated at the end of the pair line with two 50~$\Omega$ resistors in series between the low voltage differential signal (LVDS) pair, with a 0.1 $\mu$F termination capacitor at the node between the resistors and the ground. There are temperature sensors located between the two FSSR2 chips on each side of the HFCB for monitoring purposes. In the hybrid areas, the bottom layer is used to transfer heat from the chips to a copper insert built into the module support core. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth]{module-deflection.jpg}
\caption{Deflection of an individual horizontally oriented SVT module due to gravity in $\mu$m.}
\label{fig:module-deflection}
\end{figure}

Thermal and structural Finite Element Analysis (FEA) on the SVT detector elements was performed using ANSYS \cite{ANSYS}. The deflection in the detector was analyzed for an individual module and for a region as a whole. The deflection was calculated based on the gravitational load on the module. On the upstream end the module was assumed to be fixed since it is fastened to the upstream support ring of the detector. On the downstream end a simply supported condition was assumed since it is supported by the downstream ring. The maximum deflection of a module due to gravity is 14~$\mu$m (see Fig.~\ref{fig:module-deflection}) due to the excellent mechanical rigidity of the silicon sensors and the carbon fiber support. The deflection of the downstream ring is less than 7~$\mu$m. The vertical modules in the barrel minimize the deflection in the downstream ring making it a fairly rigid structure. The deflection of the entire SVT is 230~$\mu$m. 

For the thermal analysis, the module was modeled with the copper support and the heat sink insert. The heat output from each module is about 2.5 W. Cooling the cold plate with coolant flowing in the copper tubes that are brazed into the cold plate at -20$^\circ$C, at a rate of 2 liters per minute, results in a temperature differential of the coolant between the inlet and outlet of the cold plate of less than 1$^\circ$C. The temperature distribution on the module is shown in Fig.~\ref{fig:module-temp}. The maximum temperature of the sensors at the readout end is -10$^\circ$C. The variation in temperature from the upstream end of the Hybrid sensor to the downstream end of the Far sensor is about 1$^\circ$C. All components of the cooling system are outside of the tracking volume.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{module-temp.jpg}
\caption{Temperature distribution along the SVT module in $\degree$C.}
\label{fig:module-temp}
\end{figure}

\subsection{Module Assembly and Quality Assurance (QA)}

The position resolution of the detector can be compromised if the alignment is not known. Due to tight material budget restrictions there is no room for an individual module adjustment system. Strict positional tolerances are imposed so that minimal corrections need to be made to the measurements. Therefore, both the position of the sensors with respect to each other and with respect to the alignment points were measured and controlled during module production. A mechanical survey was  carried out before electrical testing to check that the module fits within a well-defined envelope and to ensure no interference with adjacent modules on the support structure. 

The SVT modules were assembled at the Fermilab Silicon Detector Facility and tested at Jefferson Lab. Prior to installation on a module, all components were inspected and tested as part of the quality assurance procedure. Risk failure modes were evaluated for all the production steps and the mitigation actions were taken. A set of detailed assembly procedure documents has been developed to aid the assembly work.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{iv-sensor.jpg}
\caption{Typical IV-curve of the silicon sensor.}
\label{fig:iv-sensor}
\end{figure}

Sensor characterization was initially carried out by the manufacturer and later confirmed by the reception testing at JLab and Fermilab. Figure~\ref{fig:iv-sensor} shows the typical IV-curve for the hybrid-type sensor. The quality of the sensors was excellent. All sensor parameters were better than the specification limits. Sensor leakage currents were well below the limit of 10 nA/cm$^2$ (470 nA) and there were no defective strips. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{cv-sensor.jpg}
\caption{Comparison of CV plots of the sensor done by the vendor with measurements at JLab and Fermilab.}
\label{fig:cv-sensor}
\end{figure}

The measurements of sensor full depletion voltage were done by testing the dependence of its capacitance on the reverse bias voltage. Figure~\ref{fig:cv-sensor} shows good agreement of the data obtained at different test facilities. The full depletion voltage data were found to be within the specifications. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{probe-station.png}
\caption{FSSR2 testing in the probe station.}
\label{fig:probe-station}
\end{figure}

The pitch adapters passed visual inspection. Mechanical survey, bond pull test, and trace resistance measurements were performed on the selected pitch adapters.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.9\columnwidth,keepaspectratio]{hfcb-test.jpg}
\caption{Electrical test of the HFCBs.}
\label{fig:hfcb-test}
\end{figure}

The initial tests for continuity, shorts, and current draw on the FSSR2 chips were done by TestEdge, Inc on the wafer level prior to the dicing. The yield was $\sim$99$\%$, 8 failures out of 520 chips. A more detailed testing of individual chips after the dicing was performed at JLab.  Figure~\ref{fig:probe-station} shows the probe card used for the quality assurance of the readout chips. The measurement procedure included register testing (read/write), loading and reading back the mask, measuring channel inefficiency, gain, noise, and threshold dispersion. 330 chips were tested with yield over 90$\%$. No additional dead channels have been observed in the modules produced from the tested chips.  

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{bus-cable-lamination.jpg}
\caption{Bus cable lamination. Top left: preparing the carbon fiber sheet. Top right: placing the bus cable sheet over the carbon fiber sheet. Bottom left: gluing the sheets with epoxy. Bottom right: bus cable skin after co-curing in the oven.}
\label{fig:bus-cable-lamination}
\end{figure}

Fabrication and primary quality control of the HFCBs were done by Compunetics. A variety of mechanical mock-ups using different 12-layer stack-ups were used to evaluate the bend radius of the wing flex cable. Boards that passed the bending test were sent to the MicroCraft company for a comprehensive "flying lead" automated electrical testing, including intranet tests for opens, net to net (with 50 mil adjacency) tests for shorts, and isolation tests applying 100 V for 16 ms. HFCB assembly was done by Compunetix Inc. using an automated pick-and-place component mounting system with a thermal profiling reflow system, and automated inspection process. Reception test at JLab included visual inspection, resistance measurements, and burn-in. Acceptance testing of the HFCBs at JLab is shown in Fig.~\ref{fig:hfcb-test}. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{bus-cable-routing.png}
\caption{CNC precision routing of the laminated bus cable skins.}
\label{fig:bus-cable-routing}
\end{figure}

Fabrication of the backing structure was done in the carbon fiber laboratory at Fermilab. The bottom surface of the bus cable contains a mesh which is used to ground the conductive carbon fiber skins. Since simply gluing the cable to carbon fiber skin that has cynate ester prepreg does not provide adequate electrical conductivity, the bus cable panel containing 6 circuits was co-cured into the carbon fiber skin at the same time the lamination is prepared.   The panel was laminated on the 3-ply sheet of carbon fiber and co-cured under vacuum in the oven at 120$\degree$C. Figure~\ref{fig:bus-cable-lamination} shows the process of bus cable lamination to the carbon fiber sheet.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{inserts.jpg}
\caption{Inspecting the inserts. The inserts are held on a fixture using its vacuum channels.}
\label{fig:inserts}
\end{figure}

The layout of the six bus cables on a panel has a minimum of 5.05 mm between adjacent cables on the panel to allow for the 1/8-inch diameter routing bit. Figure~\ref{fig:bus-cable-routing} shows the process of the Computer Numerical Control (CNC) precision routing of the laminated bus cables. After the routing step the components of the bus cable (two bus cable skins and Rohacell core) were examined under a microscope and selected for the next fabrication step. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{backing-structure-mold.jpg}
\caption{Assembling the backing structure in the mold.}
\label{fig:backing-structure-mold}
\end{figure}

Copper and PEEK inserts were inspected at Fermilab (see Fig.~\ref{fig:inserts}). Go/No-Go gage pins and caliper measurements were done on all inserts. The Coordinate Measuring Machine (CMM) inspection of precision features was performed on a subset of the parts. A JLab mechanical engineer approved the inspection results before using the inserts in production.

To assemble the backing structure, a mold and an epoxy that cures at room temperature were used (see Fig.~\ref{fig:backing-structure-mold}). Precision pins held the mounting inserts in place. The backing structures were cured on a precision jig to satisfy the required tolerances. The backing structure flatness was within 250 $\mu$m.

An assembled backing structure is shown in Fig.~\ref{fig:backing-structure-assembled}. Each module has two pairs of mounting and fiducial holes in the copper heat sink (on the right side of the picture) and one in the PEEK insert (on the left side). After a module was fabricated, the positions of these fiducial holes were measured with respect to the fiducial marks etched on the sensor. The copper trace along the backing structure has gold-plated pads to ensure electrical contact from the back side of the sensors to HV bias via silver epoxy applied to them during sensor gluing. There are 3 pads for each sensor. On the right side of the backing structure close to the copper insert, there are wire-bonding pads to connect the HV trace and the copper mesh to the bias and ground pads on the HFCB.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{backing-structure-assembled.jpg}
\caption{A fully assembled backing structure.}
\label{fig:backing-structure-assembled}
\end{figure}

The holes for the mounting pin have a tight diameter tolerance and are used for module alignment. The slot in the PEEK insert has a tolerance of 5~$\mu$m. To accurately control the width of the backing structure, post-machining of the width at the downstream end and near the pitch adapter was done. After post-machining of the precision edge, any foam exposed due to that process was encapsulated with 3M DP190 epoxy. The QA procedure for the backing structures included CMM inspection of flatness and precision width and testing bus cable HV and ground connections. The module dimensions and mounting holes were within the specs. The edges of the backing structure are covered with Kapton tape to insulate the carbon fiber from the back side of the sensors (see Fig.~\ref{fig:backing-structure-kapton}). It was found during testing of the pre-production modules that without the tape, the thin carbon fibers could create a parasitic path from the backing structure ground to the sensor bias contact.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{backing-structure-kapton.jpg}
\caption{Insulating the edges of the backing structure.}
\label{fig:backing-structure-kapton}
\end{figure}

Installation of the HFCB onto the backing structure was done in a special fixture (see Fig.~\ref{fig:hfcb-glueing}). The backing structure was pinned to a base plate with alignments tabs on the HFCB to set its position and alignment of both sides. The bottom side was glued and allowed to cure. HV and GND tabs were soldered to the bus cable, then the backing structure was flipped over for gluing of the top side of the HFCB, followed by soldering the HV and GND tabs and cutting off the alignment tabs. 

Electrically-conductive epoxy, Tra-duct 2902, was used to connect the underside of the FSSR2 ASICs to the metallized mounting pad on the board. To place the FSSR2 ASICs in an accurate and repeatable way, a setup fixture was used. The FSSR2 ASICs were located on the base plate and then transferred to the HFCB with a vacuum pickup fixture. The wire bonds on the HFCB, except for those that go to the pitch adapter and the backing structure, were encapsulated with the Dow Corning product Sylgard~186. Visual inspection and electrical testing were done by the JLab staff taking the QA shifts at Fermilab.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{hfcb-glueing.jpg}
\caption{Installation of the HFCB onto the backing structure.}
\label{fig:hfcb-glueing}
\end{figure}

The backing structure was mounted to a removable support plate on the fixture with an optical CMM. The backing structure with mounted HFCB was attached to the fixture with a clamp. Vacuum channels in the fixture were used to ensure the planarity of the backing structure. A coordinate system was established from the mounting hole and the slot. The alignment frames were used to roughly align the sensors with no epoxy and were then withdrawn. The epoxy was spread on the surface of the backing structure and silver epoxy was applied to the HV pad areas using the masks. The sensor alignment frames were moved into place and the final alignment with respect to the insert and sensor fiducials was set (see Fig.~\ref{fig:sensor-placement-cmm}). The pitch adapters were positioned by hand. 
 
\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{sensor-placement-cmm.jpg}
\caption{Sensor alignment in the CMM.}
\label{fig:sensor-placement-cmm}
\end{figure}

 A weight block wrapped in Kapton tape held the sensor during the curing process. Sensor alignment and flatness were within the specifications, and most sensors were aligned to within 5 $\mu$m as was validated by the independent sensor alignment survey on the Optical Gaging Products CMM.

After installation of the HFCBs and pitch adapters, the module was placed in a carrier box designed to allow storage of partially and fully fabricated modules (see Fig.~\ref{fig:svt-carrier-box}). The design of the carrier box provides secure mounting of the double-sided module using the location pins with the screws in the copper and PEEK inserts. The flex cable is secured with a clamp. The module can be powered, cooled (using a passive heat sink), and operated in the carrier box. The carrier box allows access to both sides of the module to facilitate inspection and debugging. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{svt-carrier-box.jpg}
\caption{SVT module carrier box.}
\label{fig:svt-carrier-box}
\end{figure}

Wire-bonding of the backing structure, sensors, pitch adapters, and the readout chips was done on the same fixture that was used for sensor placement. Functionality of the readout was tested after the wire-bonding step on each side. Figure~\ref{fig:wire-bonding} shows an SVT module being wire-bonded. Visual inspection of the wire-bonds was part of the module quality assurance procedure.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{wire-bonding.jpg}
\caption{Wire-bonding of the SVT module.}
\label{fig:wire-bonding}
\end{figure}

Module performance tests were done at various stages during module production at Fermilab. A 72-hour burn-in test was done on all the modules before shipment to JLab. All modules were shipped with the individual travelers containing the part numbers and the survey data for the module components, the results of the quality assurance measurements, and the calibration data. The tested modules were transported to JLab in carrier boxes inside a cushioned container with a shock logger (see Fig.~\ref{fig:shipping-container}), mounted in a wooden crate on shock absorbers. Quality assurance measurements were repeated during the reception test and assembly of the SVT at JLab. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{shipping-container.png}
\caption{Modules in the container before shipment.}
\label{fig:shipping-container}
\end{figure}

\subsection{Detector Integration and Commissioning}

The barrel integration took place at JLab. The regions were assembled in sequence. The assembly was done in a vertical position on a square table with a suspension and leveling system. Positioning the barrel vertically allows access to all modules of the region being assembled and facilitates strain relief of the cables during testing. Region 1 (innermost region) was assembled first, followed by Regions 2 and 3. The modules were mounted on dowels inserted in the rings by holding the module by the two handling rods that were screwed into the inserts (see Fig.~\ref{fig:svt-assembly}). 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{svt-assembly.jpg}
\caption{SVT assembly in progress.}
\label{fig:svt-assembly}
\end{figure}

Figure~\ref{fig:assembly-closeup} shows a close-up photo and the layout of the adjacent modules on the barrel, demonstrating the two readout chips encapsulated on 3 sides, wire-bonded to the HFCB, the pitch adapter, and the sensor. The sensors extend on both sides of the backing structure by 2.5 mm. The minimum gap between adjacent modules is $\sim$300 $\mu$m. The barrel installation procedure was tested successfully, and no modules were damaged during the region integration.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{assembly-closeup.jpg}
\caption{The close-up photo of the adjacent modules on the barrel (top). Layout of the adjacent modules (bottom).}
\label{fig:assembly-closeup}
\end{figure}

The upstream support ring is fastened to the cold plate by a single screw for each of the copper module supports. This ensures good thermal contact between the inserts on the cold plate and the module supports of the upstream support ring. A layer of thermal compound was applied between the mating surfaces. The cold plate and upstream ring were then mounted to a mounting tube. The larger flange on the mounting tube rests on the assembly table. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.9\columnwidth,keepaspectratio]{barrel-integration.png}
\caption{Region assembly schematic with the main elements labeled.}
\label{fig:barrel-integration}
\end{figure}

The downstream ring is supported by four aluminum region assembly bars (see Fig.~\ref{fig:barrel-integration}) fastened to it to provide stiffness to the ring during assembly. These bars have accurately positioned holes and precision mounting surfaces to position the downstream ring. As the modules are mounted around the polygonal rings the assembly bars were replaced by the modules one at a time. The mounting surfaces of the upstream and downstream rings were machined simultaneously to reduce twist in the module that could result from the two surfaces not being co-planar. The holes for locating pins and tapped holes for fasteners on the upstream and downstream rings were also added at this stage. Once the downstream ring was in position, a CMM was used to establish a coordinate system and a central axis for the detector based on fiducials machined onto the flange of the mounting tube and the tooling plate on the downstream ring. The downstream ring has holes in it for accommodating the dowels and screws used for locating and mounting the module on the downstream end. The module has a slot machined into it that accommodates the locating dowel. This constrains the module in the tangential direction without constraining it in the axial direction. 
The other holes were used for surveying the module location and for handling the module during assembly. There are three fiducial points on each module, two on the upstream copper insert, and one on the downstream PEEK insert. Figure~\ref{fig:downstream-ring} shows the inner Faraday cage and the downstream end of Region 1 modules with plastic dowels and the screws in the PEEK insert holding the module on the downstream ring. Also seen are the fiducial hole and the screw hole for the mounting rod used to hold the module during installation. The design of the backing structure provided 2 soldering pads for the surface-mounted decoupling capacitors. The results of the common mode testing demonstrated that they were not necessary and the capacitors were not installed.

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{downstream-ring.jpg}
\caption{Downstream support of the module.}
\label{fig:downstream-ring}
\end{figure}

The support rings of each region are independent from each other to prevent over-constraining the assembly. When the inner region was assembled, a light-tight Faraday cage was installed, nitrogen was flushed through it, and the modules were cooled with a portable chiller. The chiller used water as a coolant at a temperature of 10$\degree$C. The process of installing the Faraday cage is shown in Fig.~\ref{fig:faraday-cage-install}. The space between the inner shell of the cage and the Region 3 sensors is small, few mm. A system of 3 aluminum rails was installed on the assembly table to guide the cage over the barrel and preserve the shape of the carbon shell during the installation. 

\begin{figure}[h] 
\centering 
\includegraphics[width=0.7\columnwidth,keepaspectratio]{faraday-cage-install.jpg}
\caption{Installing the Faraday cage.}
\label{fig:faraday-cage-install}
\end{figure}

The barrel was placed in a dark box and tested for functionality and noise performance. Figure~\ref{fig:cable-connections} shows the L1C boards of Region 1 attached to the mounting tube with cables connected. The slow controls and the interlock system were in place to protect the SVT during the test.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{cable-connections.jpg}
\caption{Cable connections during the performance test.}
\label{fig:cable-connections}
\end{figure}
 
After confirming the stable operation of the integrated modules, the assembly proceeded with the next region. First, the upstream ring was mounted using the region assembly fixture. The fixture has a mounting ring suspended on vertical rods that can slide in the vertical and horizontal directions. The upstream ring was attached to the mounting ring, moved on the rails in the fixture, slid over the inner region, and secured to the cold plate with screws. This design allows an entire region to be removed as a unit, rather than module by module. Figure~\ref{fig:assembly-fixture} shows the process of region disassembly. Regions 1 and 2 are still integrated and mounted on the assembly table. Region 3 is removed and placed on a dedicated support structure on the cart.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{assembly-fixture.jpg}
\caption{Region disassembly. Region 3 is in the foreground, removed from the barrel. Integrated Regions 1 and 2 are in the background.}
\label{fig:assembly-fixture}
\end{figure}

Upon completion of the assembly of each region, the locations of the fiducials on the downstream and upstream rings were measured with respect to the coordinate axes with a precision of $\sim$20~$\mu$m using a FaroArm Quantum CMM. The displacements between the measured and ideal positions of the fiducials are within a fraction of a mm along the $x$, $y$, and $z$ axes, consistent with design tolerances. The fiducial displacement in the $xy$ plane is shown in Fig.~\ref{fig:survey}. The misalignment shifts of the survey positions from the ideal geometry were taken into account by the alignment software. 

\begin{figure}[h]
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{survey.png}
\caption{Fiducial displacements in the $xy$ plane measured in the survey.}
\label{fig:survey}
\end{figure}

After placement of each module on the support, all the modules on the support were re-tested to find and resolve problems with cables routed on the outside of the cylinder. Figure~\ref{fig:barrel-assembled} shows the barrel after integration mounted on the assembly bench.


\begin{figure}[h] 
\centering 
\includegraphics[width=0.6\columnwidth,keepaspectratio]{barrel-assembled.png}
\caption{The fully assembled SVT barrel.}
\label{fig:barrel-assembled}
\end{figure}

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{rotation-fixture.jpg}
\caption{A computer model of the transition fixture. Left: the assembled barrel is transferred to the fixture. Right: the barrel is rotated, ready to be mounted on the support tube.}
\label{fig:rotation-fixture}
\end{figure}

After assembling each region the functionality of the integrated modules was checked. When barrel assembly was complete, it was moved to the transportation cart and rotated to a horizontal position using a special transition fixture. Figure~\ref{fig:rotation-fixture} shows the model of the cart with the SVT barrel mounted on the transition fixture in the vertical and horizontal positions. Figure~\ref{fig:barrel-rotation} shows the process of rotating the assembled barrel. Safety locks of the fixture prevented accidental moves of the barrel during the rotation procedure.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{barrel-rotation.jpg}
\caption{Rotating the assembled barrel to the horizontal position with the transition fixture. Safety lock is being released to secure the barrel.}
\label{fig:barrel-rotation}
\end{figure}

The SVT support tube was mounted on the integration cart (see Fig.~\ref{fig:integration-cart}) using a crane and a mounting fixture placed on the parallel rails. The adjustment links on the integration cart and the adjustment plates on the transition cart allow for the SVT to be aligned with the support tube. Figure~\ref{fig:support-tube} shows the attachment of the SVT barrel to the support tube using the transition fixture. The fixture allows fine adjustment of the barrel in the vertical and horizontal directions. The survey of the fiducials on the support structure was performed and alignment of the barrel was done by shimming the support tube and adjusting the mounting fixture links. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{integration-cart.jpg}
\caption{A computer model of attaching the SVT barrel to the support tube mounted on the the integration cart with the main elements labeled.}
\label{fig:integration-cart}
\end{figure}

The mounting fixture with attached barrel was moved to one side of the integration cart and locked into place. At this time, all cables and cooling lines were connected to the SVT (see Fig.~\ref{fig:svt-assembled}). The cable bundles were secured to the support tube using the stainless steel screws and cable ties on the tube and connected to the readout electronics crates. 

The detector was tested and commissioned with cosmic rays. The integration cart was enclosed in a protective cover, the wheels were placed in the suspension pods, and the cart was transported to the experimental hall on a truck. In the hall the SVT was craned off the integration cart and mounted on the service cart. The cart hosts all detector services and is movable along the beam axis for easy maintenance.

\begin{figure}[h] 
\centering 
\includegraphics[width=0.8\columnwidth,keepaspectratio]{support-tube.jpg}
\caption{Attaching the SVT barrel to the support tube.}
\label{fig:support-tube}
\end{figure}

After installation in Hall B, the SVT was tested with the services that are used to operate the SVT during data-taking. A series of runs was performed with and without the beam and with and without the solenoid and torus magnetic fields, four configurations in all. For each of these configurations, the tests of the module performance were repeated. Tests at later stages were aimed at finding problems with the data acquisition and services, such as with the power supplies and cables, in order to ensure that no common mode noise was added to the system due to improper grounding and shielding. 

\begin{figure}[h] 
\centering 
\includegraphics[width=1.0\columnwidth,keepaspectratio]{svt-assembled.jpg}
\caption{SVT barrel after integration in the clean room.}
\label{fig:svt-assembled}
\end{figure}
